随着业务成熟和功能的相对稳定，移动互联网产品整体重心开始偏向运营，强烈的运营需求对客户端架构和发布模式都提出了更高的要求。如果每个修改都需要经历开发、上线、版本覆盖等漫长的过程，根本无法达到快速响应的要求。

从最早的 PhoneGap，到 Atlas、VirtualApk，再到 React Native、Weex，甚至小程序，每项技术在推出时都反响很大，下面对这些方案进行简单的对比。


||Web容器|虚拟运行环境|插件化|布局动态化|
|:---|:---|:---|:---|:---|
|代表方案|基于 H5 实现，例如腾讯的 VasSonic，淘宝的 Zcache 以及小程序|RN、Weex|基于 Native 的组件化开发，例如 Atlas、RePlugin、VirtualAPK|Tangram|
|动态化能力|最强，可以随时更新|强，通过下发 Bundle 更新|中，通过下发组件更新|中，通过下发配置更新|
|开发效率|最高，一次开发，多端可以共享|高|低|中，需要提前预埋所能支持的布局|
|稳定性|中，WebView 的兼容问题以及内存问题|中，坑不少|中，系统兼容性问题|最高，基本没有稳定性问题|
|流畅度|低，启动白屏和复杂交互是最大的痛点|中，性能相比 H5 有提升，但是相比 Native 还有差距|高，存在大量的 Hook|最高，只需要解析配置文件|
|接入成本|较低|高|高|低|


1、Web 容器方案在动态化能力、开发效率上有着非常大的优势，但在稳定性和流畅度相比其他方案更差些，对于一些节日、广告运营活动等业务一般会采用该方案。

2、虚拟运行环境则追求纯前端开发，例如 RN 和 Weex，通过 JavaScript 来实现大部分功能，对于移动端的依赖减到最小，把移动端统一成了一种虚拟运行环境，只要写一份代码，就可以在多个平台上运行。对于一些非核心业务，即对性能有要求，又想有不错的动态化能力的业务可以采取这种方案。

3、插件化通过对四大组件的 Hook 实现动态下发一些不常用的业务模块实现功能的动态化更新，适合对性能、交互要求强的业务，或者是迁移成本高的历史业务。不过随着 Android 生态越来越严格和规范，该方案已经越来越难通用了。Google 在 2018 年推出了[Android App Bundles](https://developer.android.com/guide/app-bundle)，它可以实现模块的动态下载，但是与插件化不同的是，它并不支持四大组件代理的能力。另外，Android App Bundles 方案依赖 Play Service，在国内根本无法使用。不过可以参考爱奇艺的[Qigsaw](https://zhuanlan.zhihu.com/p/40035587?utm_source=wechat_timeline&utm_medium=social&utm_oi=748276889193299968&from=timeline&isappinstalled=0)。

4、布局动态化的思路就是通过动态下发配置文件，客户端解析并像积木一样，拼接生成对应的视图。核心、交互较为复杂，又或者是对性能要求比较高的业务适合采用该方案。该方案主要需要具备三个能力：

- UI 容器化：能够动态的新增、调整 UI 界面而无需发版。
- 能力接口化：点击、跳转等通用能力可以通过路由协议对外提供，满足 UI 容器化后的调用需求。
- 数据通道化：数据上报也可以通过字段配置，实现客户端根据配置自动上报。